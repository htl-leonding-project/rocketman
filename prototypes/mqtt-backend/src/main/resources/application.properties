# Configure the MQTT source (we read from it)
mp.messaging.incoming.rocketman.type=smallrye-mqtt
%test.mp.messaging.incoming.rocketman.host=localhost
%test.mp.messaging.incoming.rocketman.port=1883
%dev.mp.messaging.incoming.rocketman.host=localhost
%dev.mp.messaging.incoming.rocketman.port=1883
%prod.mp.messaging.incoming.rocketman.host=mosquitto
%prod.mp.messaging.incoming.rocketman.port=1883
mp.messaging.incoming.rocketman.topic=rocketman
mp.messaging.incoming.rocketman.auto-generated-client-id=true
mp.messaging.incoming.rocketman.connect-timeout-seconds=600
mp.messaging.incoming.rocketman.keep-alive-seconds=600

# this is needed to build a native executable
# because of the sqlite driver (source: https://github.com/quarkusio/quarkus/issues/22822#issuecomment-1011396976
quarkus.native.additional-build-args=-H:+ParseOnce,--initialize-at-run-time=at.htl.rocketman.repository.SqlRunner
quarkus.native.resources.includes=sql/**,json_schema.json,jsv-messages_en_US.properties
quarkus.package.include-dependency-list=true
quarkus.package.included-optional-dependencies=sql/**,json_schema.json,jsv-messages_en_US.properties

quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,PUT,POST
quarkus.http.cors.headers=accept, authorization, content-type, x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H
quarkus.http.cors.access-control-allow-credentials=true
quarkus.http.port=8080

quarkus.log.category."org.apache.http".level=DEBUG

# Configure database
quarkus.datasource.db-kind=other
quarkus.datasource.jdbc.driver=org.sqlite.JDBC
quarkus.datasource.jdbc.url=jdbc:sqlite:rocketman.db
