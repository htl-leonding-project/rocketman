= Rocketman
Feichtinger Sarah, Dumfarth Felix, Marcel Plakolb, Lukas Hain, Jan Kaufmann
1.1.0, 2020-10-28
:sourcedir: ../src/main/java
:icons: font
ifndef::imagesdir[:imagesdir: ./images]
:sectnums:    // Nummerierung der Überschriften / section numbering
:toc: left

ifdef::backend-html5,backend-revealjs[image:logo.png[width=1000%]]

Es soll eine Mobile Steuereinheit in Form eines Koffers gebaut werden, mit der man die Rakete
über ein Kabel Starten kann. Außerdem soll die Kommunikation mit mehreren Außenstellen über 2
verschiedene Protokolle ermöglicht werden.

== Systemarchitektur

ifdef::backend-html5,backend-revealjs[image:system_architecture.png[width=1000%]]


[cols="^5,95%"]
|===
|Number |Description

|1a
a| JSON Objekte sollten nicht mit MQTT gesendet werden, da LoRa auf Low Power und kleine Payloads optimiert ist. Müssen noch vernünftige Lösung ausarbeiten

|1b
a| Es wird ein JSON Objekt mittels MQTT übertragen, in dem die Beschreibung, der Wert, die Einheit und der Zeitpunkt einer Messung gespeichert sind.

[source,json]
----

{
    "description": "temperature", <.>
    "value": "200", <.>
    "unit": "celsius",  <.>
    "timestamp": "2021-01-11T13:11:09.5Z4"  <.>
}

----
<.> Eine Beschreibung was in dem Dataset zu finden ist
<.> Der Wert
<.> Die Einheit des Wertes
<.> Der Zeitpunkt der Messung

|2
a| Es wird ein JSON Objekt mittels LoRa übertragen, in dem die X-Position, Y-Position und der Wert des Schalters Übertragen wird. Weiters wird ein String gesendet in dem der aktuelle Usermode übertragen wird.

[source,json]
----
{
    "x-axis": 520, <.>
    "y-axis": 512, <.>
    "switch_value": 999 <.>
}
----

<.> Die x-Position des Joysticks; ist bei ca. 512 wenn in der Mitte
<.> Die Y-Position des Joysticks; ist bei ca. 512 wenn in der Mitte
<.> Die Schalterposition, geht gegen 0, wenn der Schalter gedrückt wird

|3
a| Muss noch mit anderem Team besprochen werden.

|4
a|Es werden mehrere JSON-Arrays übertragen um im Frontend die Graphen darstellen zu können.

* Es werden alle Beschreibungen als Array übermittelt.
[source,json]
----
[
  "Temperatur",
  "Luftfeuchtigkeit"
]
----

* Weiteres werden alle Timestamps für eine Beschreibung als Array übertragen.

[source,json]
----
[
  "2021-01-11T13:11:09.35",
  "2021-01-11T13:11:12.35",
  "2021-01-11T13:11:13.35",
  "2021-01-11T13:11:14.35",
  "2021-01-11T13:11:15.35"
]
----

* Es wird die Zeit, in Sekunden die seit einem Start vergangen ist in einem JSON-Array übertragen.

[source,json]
----
[
  "2120863",
  "2120812",
  "2120842",
  "2120889",
  "2120921"
]
----

* Es werden alle gespeicherten Werte für eine Beschreibung zurückgegeben.

[source,json]
----
[
  "1200",
  "1402",
  "1504",
  "1589",
  "1698"
]
----

* Ein Endpoint gibt die Einheit für eine Beschreibung zurück.

[source,json]
----
"meter"
----

|5
a|Es wird ein JSON Objekt über HTTP übertragen, in dem der Name, die Zeit für einen Countdown, der Zünder, der Widerstand und ob ein Joystick oder Videostreaming benutzt wird. Konfigurationen werden über das Frontend erstellt und dann in CSV-Files gespeichert.

[source,json]
----
{
    "name": "Default Configuration", <.>
    "countdown": 120, <.>
    "igniter": 4, <.>
    "resistance": 1.4, <.>
    "useJoyStick": false, <.>
    "useVideo": false <.>
}
----

<.> Der Name der Konfiguration
<.> Der Countdown bis zum Start in Sekunden
<.> Die Anzahl der Zünder
<.> Der Widerstand **eines** Zünders
<.> Ob ein Joystick für, zum Beispiel: Eine Kamera oder die St
euerung für die Rakete oder den Satelliten
<.> Ob die Rakete oder der Satellite ein Video streamt

|6
a| Ist noch unklar.

|7
a| Muss noch mit anderem Team besprochen werden.


|===


//[plantuml, systemarchitecture, png]
//----
//package Suitcase {
//
//rectangle {
//    database "LocalDB" as ldb{
//          rectangle "Real-time data" as rtdata{
//          }
//    }
//    File jsonFile
//
//    }
//    node "Quarkus" as q {
//            [REST] as r1
//        }
//
//    file "Config File"
//
//    rectangle "Imput and Output" as io{
//        [funkmodules] as fm
//        [imput devices] as id
//        [output devices] as od
//
//        rectangle "Touch Display" as td{
//            [Webapplication] as w1
//        }
//    }
//
//    [MQTT Broker]
//}
//
//
//package CanSat {
//    node "Sensors" as s {
//        [Humidity Sensor]
//        [Temperatur Sensor]
//    }
//}
//
//package "Laptop" {
//    [Webapplication] as w2
//}
//
//cloud {
//
//
//    package "Saved data" as sd{
//        database "ExternalDB" {
//          folder "Persisted Data" {
//            [Folder] as f1
//          }
//        }
//        rectangle {
//            [REST] as r2
//        }
//    }
//}
//
//w2 -- ldb
//ldb -- q
//[r1] -- sd
//sd -- [r2]
//q -- [MQTT Broker]
//[r2] --> [f1]
//[MQTT Broker] -down- Zündung
//id --> fm
//od --> fm
//od --> td
//io -- [MQTT Broker]
//s -- fm
//----

== Project Description

20/21 4ahitm/4ahif Instrumentenkoffer zum Abschuss einer Rakete für den Cansat Wettbewerb

== Documents

=== Notizen

* https://htl-leonding-project.github.io/rocketman/important_notes[Notizen]

=== 4AHITM
* https://htl-leonding-project.github.io/rocketman/ahitm/proposal[Projekt Auftrag (4AHITM)]

* https://htl-leonding-project.github.io/rocketman/ahitm/system-specification[Pflichtenheft (4AHITM)]

=== 4AHIF

* https://htl-leonding-project.github.io/rocketman/ahif/project-proposal[Projekt Auftrag (4AHIF)]

* https://htl-leonding-project.github.io/rocketman/ahif/system-specification[Pflichtenheft (4AHIF)]

=== Documentation

* https://htl-leonding-project.github.io/rocketman/aufgabenzeitplan[Aufgabenzeitplan]

* https://htl-leonding-project.github.io/rocketman/actuator_controller_documentation[Actuator-Controller]

* https://htl-leonding-project.github.io/rocketman/CanSat_mqtt[CanSat-mqtt]


=== Protokolle
* https://htl-leonding-project.github.io/rocketman/protokoll1_231020[Protokoll 1, 23.10.2020]
* https://htl-leonding-project.github.io/rocketman/protokoll2_211220[Protokoll 2, 21.12.2020]

== Team

=== 4AHITM
* 03 DF
* 06 FS

=== 4AHIF
* 17 PM
* 10 HL
* 14 KJ

== External Project Repository

https://ars.electronica.art/esero/de/projects/cansat/[CanSat Homepage]
